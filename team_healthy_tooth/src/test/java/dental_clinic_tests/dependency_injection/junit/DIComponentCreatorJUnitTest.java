package dental_clinic_tests.dependency_injection.junit;

import dental_clinic.console_ui.patient.AddPatientUIAction;
import dental_clinic.console_ui.patient.DeletePatientUIAction;
import dental_clinic.dependency_injection.ApplicationContext;
import dental_clinic.dependency_injection.DIComponentCreator;
import org.junit.Test;

import java.util.ArrayList;
import java.util.List;

import static org.junit.Assert.assertTrue;

public class DIComponentCreatorJUnitTest {

    DIComponentCreator diComponentCreator = new DIComponentCreator();

    @Test
    public void test() {
        ApplicationContext applicationContext = new ApplicationContext();
        List<Class> diClasses = new ArrayList<>();
        diClasses.add(AddPatientUIAction.class);
        diClasses.add(DeletePatientUIAction.class);

        diComponentCreator.create(applicationContext, diClasses);

        System.out.println(applicationContext.getBeans());
        assertTrue(applicationContext.getBeans().size() == 3);
        assertTrue(applicationContext.getBeans().containsKey(AddPatientUIAction.class));
        assertTrue(applicationContext.getBeans().containsKey(DeletePatientUIAction.class));

    }
}
